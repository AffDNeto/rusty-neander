; Testes ADC
CLR R0
CCC NZVC
MOV #STACK R6 ; inicia pilha

JMP START
JMP_ERR:
JMP ERR
START:
; FAZ NADA COM C DESLIGADO
INC R0
MOV #0 R1
CCC C
ADC R1
CMP R1 #0
BNE JMP_ERR

; CASO SIMPLES
INC R0
MOV #0 R1
CCC Z
SCC NVC
ADC R1
BEQ JMP_ERR
BMI JMP_ERR
BVS JMP_ERR
BCS JMP_ERR
CMP R1 #1
BNE JMP_ERR
MOV R1 -(R6)

; OVERFLOW E NEGATIVAÇÃO
INC R0
MOV MAXN R1
CCC VN
SCC ZC
ADC R1
BPL ERR
BVC ERR
BEQ ERR
BCS ERR
CMP R1 MINN
BNE ERR
MOV R1 -(R6)

; CARRY
INC R0
MOV MAX R1
CCC Z
SCC NVC
ADC R1
BNE ERR
BCC ERR
BVS ERR
BMI ERR
CMP R1 #0
BNE ERR
MOV R1 -(R6)

; MODOS DE ENDERECAMENTO
;PRE DEC
MOV #T R1
SCC C
ADC -(R1)   ; escreve em T_PRE_DEC
;POS INC
SCC C
ADC #0   ; mesmo que INC (R7)+
;INDIRETO
MOV #T R1
SCC C
ADC (R1)    ; escreve em T
;INDEXADO
SCC C
ADC 2(R1)   ; escreve em T_IDX
;IND POS INC
MOV #TI_POS_INC TMP
MOV #TMP R1
SCC C
ADC ((R1)+)
;IND PRE DEC
MOV #TI_PRE_DEC TMP
SCC C
ADC (-(R1)) ; escreve em TI_PRE_DEC
;IND INDEXADO
MOV #TI_IDX TMP
MOV #TMP R1
INC R1
SCC C
ADC (-1(R1))   ; escreve em TI_IDX

JMP END
ERR:
MOV #1 E
END:
MOV R0 COUNTER
HLT

ORG 1024
STACK: 5
E: 0
COUNTER: 0
MAX: HFFFF
MAXN: H7FFF
MINN: H8000
T_PRE_DEC: 1
T: 2
T_IDX:3
TI_POS_INC: 5
TI_PRE_DEC:6
TI_IDX: 7
TMP: 8